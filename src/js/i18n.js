const titleI18n = {
    'zh-cn': '千雪的咖啡厅 ~',
    'zh-tw': '千雪的咖啡廳 ~',
    'en-us': "Chiyuki's Homepage ~",
    'es-es': 'Hogar de Chiyuki ~'
}

const textI18n = {
    'zh-cn': {
        tabs: {
            home: '首页',
            blog: '博客',
            files: '文件',
            about: '关于',
            comments: '留言'
        },
        main: {
            home: {
                welcome: '👋 欢迎来到斬風·千雪的主页！',
                desc: {
                    l1: '这里是斬風千雪 (Kirikaze Chiyuki)，一个居住在辽宁的，想长大的普通高三学生。',
                    l2: '我正在尝试着改变自己，为了成为一个更好的人而努力着。',
                    l3: '我正在尝试着接触新的事物，对未来的方向还很迷茫 ...',
                    l4: '走一步算一步吧。'
                },
                contact: '☎️ 联系我',
                recent: '📝 最近更新'
            },
            about: {
                about: '💖 关于我',
                l1: '这里是斬風千雪，一个居住在辽宁的，想长大的普通高三学生。我正在尝试着改变自己，为了成为一个更好的人而努力着。',
                l2: '我正在尝试着接触新的事物，对未来的方向还很迷茫 ... 走一步算一步吧。',
                l3: '我目前使用 <span style="color: #1793d1">Arch Linux</span> 操作系统和 <span style="color: #54a3d8">KDE</span> 桌面。',
                things_liked: '🔎 喜欢的东西',
                tl1: '喜欢的颜色是<span style="color: #1793d1">蓝色</span>。',
                tl2: '目前正在玩的游戏有 <span style="color: #eac92c">m</span><span style="color: #298cc4">a</span><span style="color: #8baf3f">i</span><span style="color: #eac92c">m</span><span style="color: #de5924">a</span><span style="color: #ca3c86">i</span> <span style="color: #03a4e0">DX</span>、《<span style="color: #5eb7ee">崩坏</span> <span style="color: #e0a7e5">星穹铁道</span>》和《<span style="color: #cbb687">塞尔达传说</span> <span style="color: #49d59c">王国之泪</span>》。',
                tl3: '喜欢听幽闭星光和春卷饭的歌曲，以及 VOCALOID 音乐。',
                tl4: '最喜欢做的事是摸鱼！',
                programming: '🖥️ 编程',
                p1: '我学会的第一门编程语言是 <span style="color: #652d92">Visual Basic (经典)</span>，并且至今还在使用。',
                p2: '目前还掌握了 <span style="color: #336fa1">Pyt</span><span style="color: #f9c83d">hon</span> 和一点点 <span style="color: #efaa0f">Java</span>Script。',
                p3: '正在学习 <span style="color: #42b883">Vue</span><span style="color: #35495e">.js</span>、<span style="color: #007d9c">Golang</span> 和 <span style="color: #f74b00">Rust</span>。',
                things_hated: '💢 讨厌的东西',
                th1: '最讨厌的东西是 <span style="color: #f45326">Wi</span><span style="color: #82bc06">nd</span><span style="color: #05a6f1">ow</span><span style="color: #ffbb08">s</span>，最讨厌的人是牛头人。',
                talk: '🌈 想说的话 ...',
                t1: '「冲破云霄，撕裂劲风，引导我进入动摇的永恒」',
                t2: '摘自幽闭星光的《月に叢雲華に風》',
                moe: '⛩ 萌 ICP 备 20212688'
            }
        }
    },
    'zh-tw': {
        tabs: {
            home: '首頁',
            blog: '博客',
            files: '文件',
            about: '關於',
            comments: '留言'
        },
        main: {
            home: {
                welcome: '👋 歡迎來到斬風·千雪的主頁！',
                desc: {
                    l1: '這裡是斬風千雪 (Kirikaze Chiyuki)，一個居住在遼寧的，想長大的普通高三學生。',
                    l2: '我正在嘗試著改變自己，為了成為一個更好的人而努力著。',
                    l3: '我正在嘗試著接觸新的事物，對未來的方向還很迷茫 ...',
                    l4: '走一步算一步吧。',
                },
                contact: '☎️ 聯繫我',
                recent: '📝 最近更新'
            },
            about: {
                about: '💖 關於我',
                l1: '這裡是斬風千雪，一個居住在遼寧的，想長大的普通高三學生。我正在嘗試著改變自己，為了成為一個更好的人而努力著。',
                l2: '我正在嘗試著接觸新的事物，對未來的方向還很迷茫 ... 走一步算一步吧。',
                l3: '我目前使用 <span style="color: #1793d1">Arch Linux</span> 操作系統和 <span style="color: #54a3d8">KDE</span> 桌面。',
                things_liked: '🔎 喜歡的東西',
                tl1: '喜歡的顏色是<span style="color: #1793d1">藍色</span>。',
                tl2: '目前正在玩的遊戲有 <span style="color: #eac92c">m</span><span style="color: #298cc4">a</span><span style="color: #8baf3f">i</span><span style="color: #eac92c">m</span><span style="color: #de5924">a</span><span style="color: #ca3c86">i</span> <span style="color: #03a4e0">DX</span>、《<span style="color: #5eb7ee">崩壞</span> <span style="color: #e0a7e5">星穹鐵道</span>》和《<span style="color: #cbb687">塞爾達傳說</span> <span style="color: #49d59c">王國之淚</span>》。',
                tl3: '喜歡聽幽閉星光和春捲飯的歌曲，以及 VOCALOID 音樂。',
                tl4: '最喜歡做的事是摸魚！',
                programming: '🖥️ 編程',
                p1: '我學會的第一門編程語言是 <span style="color: #652d92">Visual Basic (經典)</span>，並且至今還在使用。',
                p2: '目前還掌握了 <span style="color: #336fa1">Pyt</span><span style="color: #f9c83d">hon</span> 和一點點 <span style="color: #efaa0f">Java</span>Script。',
                p3: '正在學習 <span style="color: #42b883">Vue</span><span style="color: #35495e">.js</span>、<span style="color: #007d9c">Golang</span> 和 <span style="color: #f74b00">Rust</span>。',
                things_hated: '💢 討厭的東西',
                th1: '最討厭的東西是 <span style="color: #f45326">Wi</span><span style="color: #82bc06">nd</span><span style="color: #05a6f1">ow</span><span style="color: #ffbb08">s</span>，最討厭的人是牛頭人。',
                talk: '🌈 想說的話 ...',
                t1: '「衝破雲霄，撕裂勁風，引導我進入動搖的永恆」',
                t2: '摘自幽閉星光的《月に叢雲華に風》',
                moe: '⛩ 萌 ICP 備 20212688'
            }
        }
    },
    "ja-jp": {
        "tabs": {
            "home": "ホームページ",
            "blog": "ブログ",
            "files": "ファイル",
            "about": "私について",
            "comments": "コメント"
        },
        "main": {
            "home": {
                "welcome": "👋 斬風 千雪のホームページへようこそ！",
                "desc": {
                    "l1": "私は 斬風 千雪、遼寧に住んでいる、成長したい普通の高校生です。",
                    "l2": "私は自分を変えようとしています、そして、より良い人になるために努力しています。",
                    "l3": "私は新しいことに触れようとしていますが、未来の方向についてはまだ非常に混乱しています...",
                    "l4": "未来に向けて一歩ずつ。",
                },
                "contact": "☎️ 私に連絡する",
                "recent": "📝 最近の更新"
            },
            "about": {
                "about": "💖 私について",
                "l1": "私は 斬風 千雪、遼寧に住んでいる、成長したい普通の高校生です。私は自分を変えようとしています、そして、より良い人になるために努力しています。",
                "l2": "私は新しいことに触れようとしていますが、未来の方向についてはまだ非常に混乱しています...未来に向けて一歩ずつ。",
                "l3": "現在、私は <span style=\"color: #1793d1\">Arch Linux</span> オペレーティングシステムと <span style=\"color: #54a3d8\">KDE</span> デスクトップを使用しています。",
                "things_liked": "🔎 好きなもの",
                "tl1": "私の好きな色は <span style=\"color: #1793d1\">青</span> です。",
                "tl2": "現在プレイしているゲームは <span style=\"color: #eac92c\">m</span><span style=\"color: #298cc4\">a</span><span style=\"color: #8baf3f\">i</span><span style=\"color: #eac92c\">m</span><span style=\"color: #de5924\">a</span><span style=\"color: #ca3c86\">i</span> <span style=\"color: #03a4e0\">でらっくす</span>、<span style=\"color: #5eb7ee\">崩壊</span> <span style=\"color: #e0a7e5\">スターレイル</span>、<span style=\"color: #cbb687\">ゼルダの伝説</span> <span style=\"color: #49d59c\">ティアーズ オブ ザ キングダム</span> です。",
                "tl3": "幽閉サテライト、はるまきごはんの曲や VOCALOID 音楽を聴くのが好きです。",
                "tl4": "私の一番好きなことはだらだらすることです。",
                "programming": "🖥️ プログラミング",
                "p1": "私が学んだ最初のプログラミング言語は <span style=\"color: #652d92\">Visual Basic (Classic)</span> です、そして今も使っています。",
                "p2": "私は <span style=\"color: #336fa1\">Pyt</span><span style=\"color: #f9c83d\">hon</span> と少しの <span style=\"color: #efaa0f\">Java</span>Script をマスターしました。",
                "p3": "現在、私は <span style=\"color: #42b883\">Vue</span><span style=\"color: #35495e\">.js</span>、<span style=\"color: #007d9c\">Golang</span> 、<span style=\"color: #f74b00\">Rust</span> を学んでいます。",
                "things_hated": "💢 嫌いなもの",
                "th1": "一番嫌いなのは <span style=\"color: #f45326\">Wi</span><span style=\"color: #82bc06\">nd</span><span style=\"color: #05a6f1\">ow</span><span style=\"color: #ffbb08\">s</span> です、一番嫌いなのは「寝取られ」の人たちです。",
                "talk": "🌈 言いたいこと ...",
                "t1": "「雲突き抜け　風斬り裂いて、久遠の揺蕩いへ　誘う」",
                "t2": "幽閉サテライトの「月に叢雲華に風」から",
                "moe": "⛩ 萌 ICP No. 20212688"
            }
        }
    },
    'en-us': {
        tabs: {
            home: 'Home',
            blog: 'Blog',
            files: 'Files',
            about: 'About',
            comments: 'Comments'
        },
        main: {
            home: {
                welcome: '👋 Welcome to Kirikaze Chiyuki\'s Homepage!',
                desc: {
                    l1: 'This is Kirikaze Chiyuki, a normal high school student living in Liaoning who wants to grow up.',
                    l2: 'I\'m trying to change myself and work hard to become a better person.',
                    l3: 'I\'m trying to get in touch with new things, and I\'m still very confused about the direction of the future ...',
                    l4: 'Step by step towards the future.',
                },
                contact: '☎️ Contact Me',
                recent: '📝 Recent Updates'
            },
            about: {
                about: '💖 About Me',
                l1: 'I\'m Kirikaze Chiyuki, a normal high school student living in Liaoning who wants to grow up. I\'m trying to change myself and work hard to become a better person.',
                l2: 'I\'m trying to get in touch with new things, and I\'m still very confused about the direction of the future ... Step by step towards the future.',
                l3: 'I\'m currently using <span style="color: #1793d1">Arch Linux</span> operating system and <span style="color: #54a3d8">KDE Plasma</span> desktop environment.',
                things_liked: '🔎 Things I Liked',
                tl1: 'My favorite color is <span style="color: #1793d1">blue</span>.',
                tl2: 'The games I\'m currently playing are <span style="color: #eac92c">m</span><span style="color: #298cc4">a</span><span style="color: #8baf3f">i</span><span style="color: #eac92c">m</span><span style="color: #de5924">a</span><span style="color: #ca3c86">i</span> <span style="color: #03a4e0">DX</span>, <span style="color: #5eb7ee">Honkai:</span> <span style="color: #e0a7e5">Star Rail</span> and <span style="color: #cbb687">The Legend of Zelda:</span> <span style="color: #49d59c">Tears of the Kingdom</span>.',
                tl3: 'I like to listen to the songs by Yuuhei Satellite, Harumaki Gohan, and VOCALOID music.',
                tl4: 'The favorite thing I like to do is to "touch fish"!',
                programming: '🖥️ Programming',
                p1: 'The first programming language I learned is <span style="color: #652d92">Visual Basic (Classic)</span>, and I\'m still using it today.',
                p2: 'I have also mastered <span style="color: #336fa1">Pyt</span><span style="color: #f9c83d">hon</span> and a little <span style="color: #efaa0f">Java</span>Script.',
                p3: 'I\'m currently learning <span style="color: #42b883">Vue</span><span style="color: #35495e">.js</span>, <span style="color: #007d9c">Golang</span> and <span style="color: #f74b00">Rust</span>.',
                things_hated: '💢 Things I Hated',
                th1: 'What I hate most are <span style="color: #f45326">Wi</span><span style="color: #82bc06">nd</span><span style="color: #05a6f1">ow</span><span style="color: #ffbb08">s</span> and people who have an affair.',
                talk: '🌈 What I want to say ...',
                t1: '"Break through the mass of clouds, slash through the mighty wind, then lead me into vacillate eternity."',
                t2: 'From Yuuhei Satellite\'s "Tsuki ni Murakumo Hana ni Kaze"',
                moe: '⛩ Moe ICP No. 20212688'
            }
        }
    },
    'es-es': {
        tabs: {
            home: 'Inicio',
            blog: 'Blog',
            files: 'Archivos',
            about: 'Acerca de',
            comments: 'Comentarios'
        },
        main: {
            home: {
                welcome: '👋 ¡Bienvenido a la página de hogar de Kirikaze Chiyuki!',
                desc: {
                    l1: 'Soy Kirikaze Chiyuki, un estudiante de secundaria normal que vive en Liaoning que quiere crecer.',
                    l2: 'Estoy tratando de cambiarme a mí mismo y trabajar duro para convertirme en una mejor persona.',
                    l3: 'Estoy tratando de ponerme en contacto con cosas nuevas, y todavía estoy muy confundido acerca de la dirección del futuro ...',
                    l4: 'Paso a paso hacia el futuro.',
                },
                contact: '☎️ Contacto',
                recent: '📝 Actualizaciones recientes'
            },
            about: {
                about: '💖 Acerca de mí',

                l1: 'Soy Kirikaze Chiyuki, un estudiante de secundaria normal que vive en Liaoning que quiere crecer. Estoy tratando de cambiarme a mí mismo y trabajar duro para convertirme en una mejor persona.',
                l2: 'Estoy tratando de ponerme en contacto con cosas nuevas, y todavía estoy muy confundido acerca de la dirección del futuro ... Paso a paso hacia el futuro.',
                l3: 'Actualmente estoy usando el sistema operativo <span style="color: #1793d1">Arch Linux</span> y el entorno de escritorio <span style="color: #54a3d8">KDE Plasma</span>.',
                things_liked: '🔎 Cosas que me gustan',
                tl1: 'Mi color favorito es <span style="color: #1793d1">azul</span>.',
                tl2: 'Los juegos que estoy jugando actualmente son <span style="color: #eac92c">m</span><span style="color: #298cc4">a</span><span style="color: #8baf3f">i</span><span style="color: #eac92c">m</span><span style="color: #de5924">a</span><span style="color: #ca3c86">i</span> <span style="color: #03a4e0">DX</span>, <span style="color: #5eb7ee">Honkai:</span> <span style="color: #e0a7e5">Star Rail</span> y <span style="color: #cbb687">The Legend of Zelda:</span> <span style="color: #49d59c">Tears of the Kingdom</span>.',
                tl3: 'Me gusta escuchar las canciones de Yuuhei Satellite, Harumaki Gohan y la música de VOCALOID.',
                tl4: '¡Lo que más me gusta hacer es "tocar peces"!',
                programming: '🖥️ Programación',
                p1: 'El primer lenguaje de programación que aprendí es <span style="color: #652d92">Visual Basic (Classic)</span>, y todavía lo estoy usando hoy.',
                p2: 'También he dominado <span style="color: #336fa1">Pyt</span><span style="color: #f9c83d">hon</span> y un poco de <span style="color: #efaa0f">Java</span>Script.',
                p3: 'Actualmente estoy aprendiendo <span style="color: #42b883">Vue</span><span style="color: #35495e">.js</span>, <span style="color: #007d9c">Golang</span> y <span style="color: #f74b00">Rust</span>.',
                things_hated: '💢 Cosas que odio',
                th1: 'Lo que más odio son <span style="color: #f45326">Wi</span><span style="color: #82bc06">nd</span><span style="color: #05a6f1">ow</span><span style="color: #ffbb08">s</span> y las personas que tienen una aventura.',
                talk: '🌈 Lo que quiero decir ...',
                t1: '"Rompe la masa de nubes, corta el poderoso viento, luego llévame a la eternidad vacilante."',
                t2: 'De "Tsuki ni Murakumo Hana ni Kaze" de Yuuhei Satellite',
                moe: '⛩ Moe ICP No. 20212688'
            }
        }
    }
}

const imgI18n = {
    'zh-cn': {
        channel: '频道',
        name: '斬風·千雪',
        group: '群'
    },
    'zh-tw': {
        channel: '頻道',
        name: '斬風·千雪',
        group: '羣'
    },
    'en-us': {
        channel: 'Channel',
        name: 'Channel',
        group: 'Chat'
    },
    'es-es': {
        channel: 'Canal',
        name: 'Canal',
        group: 'Chat'
    }
}

function getLocaleId() {
    const locale = ((new URLSearchParams(window.location.search).get('locale')) || navigator.language).toLowerCase()
    switch (locale) {
        case 'zh-cn':
            return 'zh-cn'
        case 'zh-tw':
            return 'zh-tw'
        case 'en-us':
        case 'en':
        case 'en-gb':
            return 'en-us'
        case 'es-es':
        case 'es':
            return 'es-es'
        case 'ja-jp':
        case 'ja':
            return 'ja-jp'
        default:
            return 'zh-cn'
    }
}

function getI18nString(i18nId) {
    // i18nId: like 'tabs.home'
    const localeId = getLocaleId()
    const i18nIdList = i18nId.split('.')
    let i18nString = textI18n[localeId]
    for (const i18nId of i18nIdList) {
        i18nString = i18nString[i18nId]
    }
    return i18nString
}

const localeId = getLocaleId()

if (!window.$) {
    window.$ = (selector) => document.querySelector(selector)
}

function i18nTitle() {
    document.title = titleI18n[localeId]
}

function i18nText() {
    for (const el of document.getElementsByClassName('i18n')) {
        const i18nId = el.getAttribute('data-i18n')
        const str = getI18nString(i18nId) || 'N/A'
        if (el.innerHTML !== '') {
            el.innerHTML += str
        } else if (str.includes('<')) {
            el.innerHTML = str
        } else {
            el.innerText = str
        }
    }
}

function i18nImg() {
    for (const el of document.getElementsByClassName('imgI18n')) {
        const dataSrc = el.getAttribute('data-src')
        for (const key in imgI18n[localeId]) {
            if (dataSrc.includes(key)) {
                const value = imgI18n[localeId][key]
                const newSrc = dataSrc.replace(`{{${key}}}`, value)
                console.log(newSrc)
                el.setAttribute('src', newSrc)
            }
        }
    }
}

function i18n() {
    i18nTitle()
    i18nText()
    i18nImg()
}

window.addEventListener('load', () => {
    i18n()
})
