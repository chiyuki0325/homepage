const titleI18n = {
    'zh-cn': '一刀斩の小窝 ~',
    'zh-tw': '一刀斬の小窩 ~',
    'en-us': "Yidaozhan's Homepage ~",
    'es-es': "Yidaozhan's Hogar ~"
}

const textI18n = {
    'zh-cn': {
        tabs: {
            home: '首页',
            blog: '博客',
            files: '文件',
            about: '关于',
            comments: '留言'
        },
        main: {
            home: {
                welcome: '👋 欢迎来到一刀斩的主页！',
                desc: {
                    l1: '这里是一刀斩，一个居住在辽宁的，想长大的普通高三学生。',
                    l2: '我正在尝试着改变自己，为了成为一个更好的人而努力着。',
                    l3: '我正在尝试着接触新的事物，对未来的方向还很迷茫 ...',
                    l4: '走一步算一步吧。'
                },
                contact: '☎️ 联系我',
                recent: '📝 最近更新'
            },
            about: {
                about: '💖 关于我',
                l1: '这里是一刀斩，一个居住在辽宁的，想长大的普通高三学生。我正在尝试着改变自己，为了成为一个更好的人而努力着。',
                l2: '我正在尝试着接触新的事物，对未来的方向还很迷茫 ... 走一步算一步吧。',
                l3: '我目前使用 <span style="color: #1793d1">Arch Linux</span> 操作系统和 <span style="color: #54a3d8">KDE</span> 桌面。',
                things_liked: '🔎 喜欢的东西',
                tl1: '喜欢的颜色是<span style="color: #1793d1">蓝色</span>。',
                tl2: '目前正在玩的游戏有 <span style="color: #eac92c">m</span><span style="color: #298cc4">a</span><span style="color: #8baf3f">i</span><span style="color: #eac92c">m</span><span style="color: #de5924">a</span><span style="color: #ca3c86">i</span> <span style="color: #03a4e0">DX</span>、《<span style="color: #5eb7ee">崩坏</span> <span style="color: #e0a7e5">星穹铁道</span>》和《<span style="color: #cbb687">塞尔达传说</span> <span style="color: #49d59c">王国之泪</span>》。',
                tl3: '喜欢听幽闭星光和春卷饭的歌曲，以及 VOCALOID 音乐。',
                tl4: '最喜欢做的事是摸鱼！',
                programming: '🖥️ 编程',
                p1: '我学会的第一门编程语言是 <span style="color: #652d92">Visual Basic (经典)</span>，并且至今还在使用。',
                p2: '目前还掌握了 <span style="color: #336fa1">Pyt</span><span style="color: #f9c83d">hon</span> 和一点点 <span style="color: #efaa0f">Java</span>Script。',
                p3: '正在学习 <span style="color: #42b883">Vue</span><span style="color: #35495e">.js</span> 和 <span style="color: #007d9c">Golang</span>。',
                things_hated: '💢 讨厌的东西',
                th1: '最讨厌的东西是 <span style="color: #f45326">Wi</span><span style="color: #82bc06">nd</span><span style="color: #05a6f1">ow</span><span style="color: #ffbb08">s</span>，最讨厌的人是牛头人。',
                dream: '🌈 理想',
                d1: '我 2024 年高考，目标是考上合肥工业大学，经过未来的学习，成为一名优秀的全栈开发者。',
                moe: '⛩ 萌 ICP 备 20212688'
            }
        }
    },
    'zh-tw': {
        tabs: {
            home: '首頁',
            blog: '博客',
            files: '文件',
            about: '關於',
            comments: '留言'
        },
        main: {
            home: {
                welcome: '👋 歡迎來到一刀斬的主頁！',
                desc: {
                    l1: '這裡是一刀斬，一個居住在遼寧的，想長大的普通高三學生。我正在嘗試著改變自己，為了成為一個更好的人而努力著。',
                    l2: '我正在嘗試著接觸新的事物，對未來的方向還很迷茫 ... 走一步算一步吧。',
                },
                contact: '☎️ 聯繫我',
                recent: '📝 最近更新'
            },
            about: {
                about: '💖 關於我',
                l1: '這裡是一刀斬，一個居住在遼寧的，想長大的普通高三學生。我正在嘗試著改變自己，為了成為一個更好的人而努力著。',
                l2: '我正在嘗試著接觸新的事物，對未來的方向還很迷茫 ... 走一步算一步吧。',
                l3: '我目前使用 <span style="color: #1793d1">Arch Linux</span> 操作系統和 <span style="color: #54a3d8">KDE</span> 桌面。',
                things_liked: '🔎 喜歡的東西',
                tl1: '喜歡的顏色是<span style="color: #1793d1">藍色</span>。',
                tl2: '目前正在玩的遊戲有 <span style="color: #eac92c">m</span><span style="color: #298cc4">a</span><span style="color: #8baf3f">i</span><span style="color: #eac92c">m</span><span style="color: #de5924">a</span><span style="color: #ca3c86">i</span> <span style="color: #03a4e0">DX</span>、《<span style="color: #5eb7ee">崩壞</span> <span style="color: #e0a7e5">星穹鐵道</span>》和《<span style="color: #cbb687">塞爾達傳說</span> <span style="color: #49d59c">王國之淚</span>》。',
                tl3: '喜歡聽幽閉星光和春捲飯的歌曲，以及 VOCALOID 音樂。',
                tl4: '最喜歡做的事是摸魚！',
                programming: '🖥️ 編程',
                p1: '我學會的第一門編程語言是 <span style="color: #652d92">Visual Basic (經典)</span>，並且至今還在使用。',
                p2: '目前還掌握了 <span style="color: #336fa1">Pyt</span><span style="color: #f9c83d">hon</span> 和一點點 <span style="color: #efaa0f">Java</span>Script。',
                p3: '正在學習 <span style="color: #42b883">Vue</span><span style="color: #35495e">.js</span> 和 <span style="color: #007d9c">Golang</span>。',
                things_hated: '💢 討厭的東西',
                th1: '最討厭的東西是 <span style="color: #f45326">Wi</span><span style="color: #82bc06">nd</span><span style="color: #05a6f1">ow</span><span style="color: #ffbb08">s</span>，最討厭的人是牛頭人。',
                dream: '🌈 理想',
                d1: '我 2024 年高考，目標是考上合肥工業大學，經過未來的學習，成為一名優秀的全棧開發者。',
                moe: '⛩ 萌 ICP 備 20212688'
            }
        }
    },
    'en-us': {
        tabs: {
            home: 'Home',
            blog: 'Blog',
            files: 'Files',
            about: 'About',
            comments: 'Comments'
        },
        main: {
            home: {
                welcome: '👋 Welcome to Yidaozhan Ya\'s Homepage!',
                desc: {
                    l1: 'I\'m Yidaozhan Ya, a normal high school student living in Liaoning who wants to grow up. I\'m trying to change myself and work hard to become a better person.',
                    l2: 'I\'m trying to get in touch with new things, and I\'m still very confused about the direction of the future ... Step by step towards the future.',
                },
                contact: '☎️ Contact Me',
                recent: '📝 Recent Updates'
            },
            about: {
                about: '💖 About Me',
                l1: 'I\'m Yidaozhan Ya, a normal high school student living in Liaoning who wants to grow up. I\'m trying to change myself and work hard to become a better person.',
                l2: 'I\'m trying to get in touch with new things, and I\'m still very confused about the direction of the future ... Step by step towards the future.',
                l3: 'I\'m currently using <span style="color: #1793d1">Arch Linux</span> operating system and <span style="color: #54a3d8">KDE</span> desktop.',
                things_liked: '🔎 Things I Liked',
                tl1: 'My favorite color is <span style="color: #1793d1">blue</span>.',
                tl2: 'The games I\'m currently playing are <span style="color: #eac92c">m</span><span style="color: #298cc4">a</span><span style="color: #8baf3f">i</span><span style="color: #eac92c">m</span><span style="color: #de5924">a</span><span style="color: #ca3c86">i</span> <span style="color: #03a4e0">DX</span>, <span style="color: #5eb7ee">Honkai Impact 3rd</span> and <span style="color: #cbb687">The Legend of Zelda: Breath of the Wild</span>.',
                tl3: 'I like to listen to the songs of <span style="color: #b6d3f8">Yuu Hikachi</span> and <span style="color: #f6f5b4">Harumaki Gohan</span>, and VOCALOID music.',
                tl4: 'The favorite thing I like to do is to touch fish!',
                programming: '🖥️ Programming',
                p1: 'The first programming language I learned is <span style="color: #652d92">Visual Basic (Classic)</span>, and I\'m still using it today.',
                p2: 'I have also mastered <span style="color: #336fa1">Pyt</span><span style="color: #f9c83d">hon</span> and a little <span style="color: #efaa0f">Java</span>Script.',
                p3: 'I\'m currently learning <span style="color: #42b883">Vue</span><span style="color: #35495e">.js</span> and <span style="color: #007d9c">Golang</span>.',
                things_hated: '💢 Things I Hated',
                th1: 'The most hated thing is <span style="color: #f45326">Wi</span><span style="color: #82bc06">nd</span><span style="color: #05a6f1">ow</span><span style="color: #ffbb08">s</span>, and the most hated person is Tauren.',
                dream: '🌈 Dream',
                d1: 'I\'m taking the college entrance examination in 2024. My goal is to get into Hefei University of Technology. After future learning, I want to become an excellent full-stack developer.',
                moe: '⛩ Moe ICP No. 20212688'
            }
        }
    },
    'es-es': {
        tabs: {
            home: 'Inicio',
            blog: 'Blog',
            files: 'Archivos',
            about: 'Acerca de',
            comments: 'Comentarios'
        },
        main: {
            home: {
                welcome: '👋 ¡Bienvenido a la página de inicio de Yidaozhan Ya!',
                desc: {
                    l1: 'Soy Yidaozhan Ya, un estudiante de secundaria normal que vive en Liaoning que quiere crecer. Estoy tratando de cambiarme a mí mismo y trabajar duro para convertirme en una mejor persona.',
                    l2: 'Estoy tratando de ponerme en contacto con cosas nuevas, y todavía estoy muy confundido acerca de la dirección del futuro ... Paso a paso hacia el futuro.',
                },
                contact: '☎️ Contacto',
                recent: '📝 Actualizaciones recientes'
            },
            about: {
                about: '💖 Acerca de mí',

                l1: 'Soy Yidaozhan Ya, un estudiante de secundaria normal que vive en Liaoning que quiere crecer. Estoy tratando de cambiarme a mí mismo y trabajar duro para convertirme en una mejor persona.',
                l2: 'Estoy tratando de ponerme en contacto con cosas nuevas, y todavía estoy muy confundido acerca de la dirección del futuro ... Paso a paso hacia el futuro.',
                l3: 'Actualmente estoy usando el sistema operativo <span style="color: #1793d1">Arch Linux</span> y el escritorio <span style="color: #54a3d8">KDE</span>.',
                things_liked: '🔎 Cosas que me gustan',
                tl1: 'Mi color favorito es <span style="color: #1793d1">azul</span>.',
                tl2: 'Los juegos que estoy jugando actualmente son <span style="color: #eac92c">m</span><span style="color: #298cc4">a</span><span style="color: #8baf3f">i</span><span style="color: #eac92c">m</span><span style="color: #de5924">a</span><span style="color: #ca3c86">i</span> <span style="color: #03a4e0">DX</span>, <span style="color: #5eb7ee">Honkai Impact 3rd</span> y <span style="color: #cbb687">The Legend of Zelda: Breath of the Wild</span>.',
                tl3: 'Me gusta escuchar las canciones de <span style="color: #b6d3f8">Yuu Hikachi</span> y <span style="color: #f6f5b4">Harumaki Gohan</span>, y la música de VOCALOID.',
                tl4: '¡Lo que más me gusta hacer es tocar peces!',
                programming: '🖥️ Programación',
                p1: 'El primer lenguaje de programación que aprendí es <span style="color: #652d92">Visual Basic (Classic)</span>, y todavía lo estoy usando hoy.',
                p2: 'También he dominado <span style="color: #336fa1">Pyt</span><span style="color: #f9c83d">hon</span> y un poco de <span style="color: #efaa0f">Java</span>Script.',
                p3: 'Actualmente estoy aprendiendo <span style="color: #42b883">Vue</span><span style="color: #35495e">.js</span> y <span style="color: #007d9c">Golang</span>.',
                things_hated: '💢 Cosas que odio',
                th1: 'Lo que más odio es <span style="color: #f45326">Wi</span><span style="color: #82bc06">nd</span><span style="color: #05a6f1">ow</span><span style="color: #ffbb08">s</span>, y la persona que más odio es Tauren.',
                dream: '🌈 Sueño',
                d1: 'Estoy tomando el examen de ingreso a la universidad en 2024. Mi objetivo es ingresar a la Universidad de Tecnología de Hefei. Después del aprendizaje futuro, quiero convertirme en un excelente desarrollador de pila completa.',
                moe: '⛩ Moe ICP No. 20212688'
            }
        }
    }
}

const imgI18n = {
    'zh-cn': {
        channel: '频道',
        name: '是一刀斩哒',
        group: '群'
    },
    'zh-tw': {
        channel: '頻道',
        name: '是一刀斩哒',
        group: '羣'
    },
    'en-us': {
        channel: 'Channel',
        name: 'Channel',
        group: 'Chat'
    },
    'es-es': {
        channel: 'Canal',
        name: 'Canal',
        group: 'Chat'
    }
}

function getLocaleId() {
    const locale = new URLSearchParams(window.location.search).get('locale') || navigator.language.toLowerCase()
    switch (locale) {
        case 'zh-cn':
            return 'zh-cn'
        case 'zh-tw':
            return 'zh-tw'
        case 'en-us':
        case 'en':
        case 'en-gb':
            return 'en-us'
        case 'es-es':
        case 'es':
            return 'es-es'
        default:
            return 'zh-cn'
    }
}

function getI18nString(i18nId) {
    // i18nId: like 'tabs.home'
    const localeId = getLocaleId()
    const i18nIdList = i18nId.split('.')
    let i18nString = textI18n[localeId]
    for (const i18nId of i18nIdList) {
        i18nString = i18nString[i18nId]
    }
    return i18nString
}

const localeId = getLocaleId()

if (!window.$) {
    window.$ = (selector) => document.querySelector(selector)
}

function i18nTitle() {
    document.title = titleI18n[localeId]
}

function i18nText() {
    for (const el of document.getElementsByClassName('i18n')) {
        const i18nId = el.getAttribute('data-i18n')
        const str = getI18nString(i18nId) || 'N/A'
        if (el.innerHTML !== '') {
            el.innerHTML += str
        } else if (str.includes('<')) {
            el.innerHTML = str
        } else {
            el.innerText = str
        }
    }
}

function i18nImg() {
    for (const el of document.getElementsByClassName('imgI18n')) {
        const dataSrc = el.getAttribute('data-src')
        for (const key in imgI18n[localeId]) {
            if (dataSrc.includes(key)) {
                const value = imgI18n[localeId][key]
                const newSrc = dataSrc.replace(`{{${key}}}`, value)
                console.log(newSrc)
                el.setAttribute('src', newSrc)
            }
        }
    }
}

function i18n() {
    i18nTitle()
    i18nText()
    i18nImg()
}

window.addEventListener('load', () => {
    i18n()
})
